var DocType = $("#DocType").val(), fullScreen = !!(document.fullscreenEnabled || document.mozFullscreenEnabled || document.webkitFullscreenEnabled); fullScreen && $("#fullscreenbutton").attr("onclick", "goFullScreen()"); var screen_change_events = "webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange"; function exitHandler() { document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement ? goFullScreen() : exitFullScreen() } function goFullScreen() { var e = document.getElementsByClassName("contentDisplayFrame")[0]; (e.requestFullScreen || e.webkitRequestFullScreen || e.mozRequestFullScreen || e.msRequestFullscreen).call(e), $("#fullscreenbutton").attr("onclick", "exitFullScreen()"), $("#fullscreenbutton").html("Exit Full Screen"), "v" == $("#DocType").val() && $(".iFrameContentViewer").css("height", window.innerHeight - 70), $(".contenttextdiv").css("height", "85vh"), $(".contenttextdiv").css("overflow-y", "scroll"), "c" == $("#DocType").val() && ($("#player2").mediaelementplayer({ defaultVideoWidth: $(".contentDisplayFrame").width(), videoWidth: $(".contentDisplayFrame").width(), enableAutosize: !1, defaultVideoHeight: window.innerHeight, features: ["playpause", "progress", "current", "duration", "volume"] }), $("#mep_0").css("width", $(".contentDisplayFrame").width()), $("#player2").css("width", $(".contentDisplayFrame").width()), $("#mep_0").css("max-width", $(".contentDisplayFrame").width()), $("#player2").css("max-width", $(".contentDisplayFrame").width()), $("#player2").resize(function () { $(".contentDisplayFrame").hasClass("fullscreen") || ($("#mep_0").css("width", $(".contentDisplayFrame").width()), $("#player2").css("width", $(".contentDisplayFrame").width()), $("#mep_0").css("max-width", $(".contentDisplayFrame").width()), $("#player2").css("max-width", $(".contentDisplayFrame").width())) })), $(".content_sub_heading").hide(), $(".gototextview").hide(), $(".contentDisplayFrame ").css("overflow-y", "hidden"), $("#text_transcript_element").css("max-height", "75px"), $(".ed_mid_box").css("width", "100%"), $(".gotopdfview_link").hide(), $(".content_footer").hide() } function exitFullScreen() { $("#fullscreenbutton").attr("onclick", "goFullScreen()"), $("#fullscreenbutton").html("Full Screen"), $(".contenttextdiv").css("height", "auto"), $(".contenttextdiv").css("overflow-y", "hidden"), document.exitFullscreen ? document.exitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen(), "v" == $("#DocType").val() && $(".iFrameContentViewer").css("height", "100%"), $(".content_sub_heading").show(), $(".contentDisplayFrame ").css("overflow-y", "auto"), $("#text_transcript_element").css("max-height", "100%"), $(".ed_mid_box").css("width", "auto"), $(".content_footer").show() } $(window).keypress(function (e) { 122 == (e.keyCode || e.which) && exitHandler() }), $(document).on(screen_change_events, function (e) { exitHandler() }), $(document).ready(function () { "p" == DocType && $(window).width() > 767 ? $(".sim_cnt_side").css("display", "none") : "c" == DocType && $(window).width() > 767 ? $(".sim_cnt_side").css("display", "none") : "v" == DocType && $(window).width() > 767 && $(".sim_cnt_side").css("display", "none") }), openMandatorySignup = function () { $("#overlay-inAboxDefault").modal("hide"), $("#myModalRegister").modal({ animation: !0, backdrop: "static", keyboard: !1, show: !0 }), $("html").css("overflow", "hidden"), $("#mandatory-lg a").attr({ onclick: "return openMandatoryLogin();", href: "javascript:void(0);" }), $(".close").hide() }, SetRatingValues = function () { var e = $("#uid").val(), t = $("#UploadedByUserIDHidden").val(); "-1" != e && e != t && "" != $("#uid").val() && "0" != $("#uid").val() && "-1" != $("#uid").val() && setTimeout(function () { SetRatingBox() }, 18e4) }, SetRatingBox = function () { var e = $("#fileId").val(); $.ajax({ contentType: "application/json; charset=utf-8", dataType: "json", type: "POST", data: "{ fileId:'" + e + "'}", url: "/Document/checkIfUserRated", cache: !1, async: !0, success: function (e) { 0 == e && $(".content_rating_footer").show() }, error: function (e, t, n) { } }) }, $(document).ready(function () { navigator.userAgent.toLowerCase().indexOf("android"); var e = $("#ContentPrivacyCheckhidden").val(), t = $("#uid").val(); "false" == e.toLowerCase() ? "-1" != t && "" != t && "0" != t && 0 != t || openOverlaySignup() : (SetRatingValues(), "-1" != t && "" != t && "0" != t && 0 != t || (null != $.cookie("kljhgfdsa_#%*_fgfhf") && "" != $.cookie("kljhgfdsa_#%*_fgfhf") && void 0 != $.cookie("kljhgfdsa_#%*_fgfhf") ? openOverlaySignup() : ($.cookie("kljhgfdsa_#%*_fgfhf", "welcome"), setTimeout(function () { openOverlaySignup() }, 18e4)))) }), showUsersRated = function (e) { $("#uid").val(); _ShowLoader(), $.ajax({ type: "POST", url: "/Document/UsersRatedContent", data: "{ fileId:'" + e + "'}", contentType: "application/json;charset=utf-8", dataType: "json", success: function (e) { if (_HideLoader(), e.length > 0) { var t = "", n = $("#NoOfRatings").val(), o = '<dic class="row"><div class="col-xs-8 col-sm-7 p-0" style="padding-top:20px;"><div style="float:right;"><h2 class=\'text-center\'><img style=\'margin-top: -6px;\' src=\'/assets/img/star-outline.png\' /> ' + $("#AverageRating").val() + " out of 5</h2><h3 class='text-center' style='text-transform: none;color:#5e5e5e;'>" + n + ' Users Rated</h3></div></div><div class="col-xs-3 col-sm-4"><div style="float:left;"><img src="/assets/img/Users-Rated-Asset.png"</div></div></div>'; t += '<div class="col-md-12 rating-pop-m">', t += "<table class='usrrtd'>"; "p" == DocType || "t" == DocType ? "document" : "v" != DocType && "c" != DocType || "video"; for (var a = 0; a < e.length; a++) { for (var i = "", s = 0; s < parseInt(e[a].Rating) ; s++) i += "<span><img src='/assets/img/star-b.png' /></span>"; if (5 - parseInt(e[a].Rating)) for (var l = 0; l < 5 - parseInt(e[a].Rating) ; l++) i += "<span><img src='/assets/img/star-g.png' /></span>"; t += "<tr><td class='row' style='padding-top:0px;padding-bottom:0px;border:none !important;'><div class='col-xs-6 p-0' style='border-right: 1px solid #dedede;padding:5px 1px 5px 0px;'><a data-uid='" + e[a].ActionUserId + "' class='uLink' href='/" + e[a].ActionUserId + '?public=true\'><img style="width:30px;height:30px;border-radius:50%;margin-right:10px;" class="img-circle b-lazy" src=\'' + BaseCloudAssets + "assets/img/ph.png' data-src=\"" + e[a].ActionUserImage + "\" /></a> <a data-uid='" + e[a].ActionUserId + "' class='uLink' href='/" + e[a].ActionUserId + "?public=true'>" + e[a].ActionUserName + "</a></div><div class='col-xs-6 text-center' style='padding-top:9px;padding-bottom:10px;'>" + i + "</div></td></tr>" } t += "</table></div>", $(".ER_Model_Content").html(t), $(".ER_Model_Header").html(o), $(".ER_Model_Header").css({ "margin-bottom": "-25px", "margin-top": "-25px" }), $(".ER_Model_Content").css({ "max-height": "400px", "overflow-y": "auto" }), $(".ER_Model_Footer").hide(), $("#ER_Model").modal("show") } }, error: function (e, t, n) { _HideLoader() } }) }, showcontentFullscreen = function () { $(".contentDisplayFrame").toggleClass("fullscreen"), $(".contentDisplayFrame").hasClass("fullscreen") ? ($("#fullscreenbutton").html("Exit Full Screen"), $("#fullscreenbutton").attr("title", "Exit Full Screen"), $("html").css("overflow-y", "hidden"), "v" == $("#DocType").val() && ($(".iFrameContentViewer").css("width", "75%"), $(".videoContainer_iframe").addClass("videoContainerDiv"))) : ($("#fullscreenbutton").html("Full Screen"), $("#fullscreenbutton").attr("title", "Full Screen"), $("html").css("overflow-y", "auto"), "v" == $("#DocType").val() && ($(".iFrameContentViewer").css("width", "100%"), $(".iFrameContentViewer").css("height", "100%"), $(".videoContainer_iframe").removeClass("videoContainerDiv"))), $("#iFrameContentViewer").css("height", window.innerHeight) }, setTimeout(function () { $(".k_w").hide() }, 6e4), SignIncustom = function () { var e = $("#userNameTextcustom").val().trim(), t = $("#passwordTextcustom").val().trim(), n = $("#Modelspancustom"); return void 0 == e || null == e || "" == e ? (n.html("Please enter Email id"), !1) : void 0 == t || null == t || "" == t ? (n.html("Please Enter Password"), !1) : (_ShowLoader(), void $.ajax({ type: "POST", url: "/Account/SignIn", data: "{ userName:'" + e + "',Password:'" + t + "'}", contentType: "application/json;charset=utf-8", dataType: "json", success: function (e) { if ("0" == e) n.html("Invalid User Name/Password"), _HideLoader(); else { RemoveCookieForTagPopup(), $.cookie("loggedin", 1), n.html(""); var t = getParameterByName("returnURL"); "" != t && null != t && void 0 != t ? window.location.href = t : window.location.reload() } }, error: function (e, t, n) { _HideLoader(), console.log(e + "," + t + "," + n) } })) }, clickLoginEntercustom = function (e) { CheckEnterKey(e) && SignIncustom() }, ClearRegisterControlscustom = function () { return $("#fullNameRegisterTextcustom").val(""), $("#userNameRegisterTextcustom").val(""), $("#passwordRegisterTextcustom").val(""), $("#fullNameRegisterTextcustom").focus(), !0 }, clickRegisterEntercustom = function (e) { CheckEnterKey(e) && SignUpcustom() }, validateName = function (e) { return !!/^[a-zA-Z\s]+$/.test(e) }, SignUpcustom = function () { var e = $("#fullNameRegisterTextcustom").val().trim(), t = $("#lastNameRegisterTextcustom").val().trim(), n = $("#userNameRegisterTextcustom").val().trim(), o = $("#passwordRegisterTextcustom").val().trim(), a = $(".g-recaptcha-response").map(function () { if ("" != this.value) return this.value }).get()[0], i = $("input[name=genderradiocustom]:checked").val(), s = $("#termandconditioncheckcustom").is(":checked"), l = $("#ModelRegisterspancustom"); if (1 == s) { if (void 0 == e || null == e || "" == e) return l.html("Please Enter First Name"), !1; if (!validateName(e)) return l.html("Please Enter alphabets only in first name"), !1; if (void 0 == t || null == t || "" == t) return l.html("Please Enter Last Name"), !1; if (!validateName(t)) return l.html("Please Enter alphabets only in last name"), !1; if (void 0 == n || null == n || "" == n) return l.html("Please Enter Email"), !1; if (!validateEmail(n)) return l.html("Please Enter Correct Email"), !1; if (void 0 == o || null == o || "" == o) return l.html("Please Enter Password"), !1; if (void 0 == i || null == i || "" == i) return l.html("Please Select Gender"), !1; e = e + " " + t, _ShowLoader(), $.ajax({ type: "POST", url: "/Account/RegisterUser", data: "{ FullName:'" + e + "',Email:'" + n + "',Password:'" + o + "',Gender:'" + i + "',captch:'" + a + "'}", contentType: "application/json;charset=utf-8", dataType: "text", success: function (e) { if (_HideLoader(), "Done" == e || "" == e) { _ShowLoader(), l.html(""), $.cookie("loggedin", 1); var t = getParameterByName("returnURL"); "" != t && null != t && void 0 != t ? window.location.href = t : window.location.reload() } else grecaptcha.reset(recaptcha2), l.html(e) }, error: function (e, t, n) { _HideLoader(), grecaptcha.reset(recaptcha2), console.log(e + "," + t + "," + n) } }) } else l.html("Please accept Terms and Conditions") }, SaveRatings = function (e) { if ($(".ratecnt" + e + " span").css("color", "#ee4630"), "-1" == $("#uid").val()) $("#myModal").modal("show"); else { var t = {}; t.fileid = $("#guid").val(), t.rating = e; var n = { fileid: t }; setTimeout(function () { $(".rtng_hdr,.rtng_cnt").hide() }, 1500), setTimeout(function () { $("#RatingDiv").html("<div style='height: 100px;border-top: 1px solid #f9f9f9;padding-top: 25px;font-size: 22px;'>Thanks for your feedback.</div>"), setTimeout(function () { closerating_footer() }, 1500) }, 1500), $.ajax({ contentType: "application/json; charset=utf-8", dataType: "json", type: "POST", data: JSON.stringify(n), url: "/Document/UpdateStudyRating", cache: !1, async: !0, success: function (e) { }, error: function (e, t, n) { } }) } }, RatingValues = function (e) { var t = ""; switch (e) { case 1: t = "Poor"; break; case 2: t = "Below Average"; break; case 3: t = "Average"; break; case 4: t = "Good"; break; case 5: t = "Excellent"; break; default: t = "" } return t }, openForgotPass = function () { $("#overlay-inAboxDefault").modal("hide"), $("#myModal").modal("hide"), $(".close").show(), $("#myModalForgotPassword").modal({ animation: !0, backdrop: "static", keyboard: !1, show: !0 }), $("#closeForgotPassword").attr({ onclick: "return closeForgotPass();", href: "javascript:void(0);" }), $("html").css("overflow", "hidden") }, closeForgotPass = function () { $(".close").hide(), $("#myModalForgotPassword").modal("hide"), $("#overlay-inAboxDefault").modal("hide"), $("html").css("overflow", "hidden"), openMandatoryLogin() }, split_text_value = function (e, t, n) { $(".split_text_value").length > 0 && ($(".split_text_value").remove(), $.ajax({ type: "POST", url: "/Document/split_text_value", data: "{ guid:'" + e + "',type:'" + t + "',split:'" + n + "'}", contentType: "application/json;charset=utf-8", dataType: "text", success: function (e) { $(".contenttextdiv").append(e); try { MathJax.Hub.Queue(["Typeset", MathJax.Hub, "main-content"]) } catch (e) { } try { $(function () { $(".contenttextdiv table").each(function () { var e = $(this); 0 == e.parent(".table-responsive").length && e.wrap("<div class='table-responsive' style='overflow-x: auto;'></div>") }) }) } catch (e) { } loading__split_text_value_exists = !1 }, error: function (e, t, n) { console.log(e + "," + t + "," + n) } })) }; var loading__split_text_value_exists = !1; function loadsplit_text_value_exists_more() { $(".split_text_value").click() } $(document).ready(function () { $(window).on("scroll", function () { $(".split_text_value").length > 0 && $(window).scrollTop() + $(window).height() >= $(".split_text_value").offset().top - 400 && (loading__split_text_value_exists || (loading__split_text_value_exists = !0, loadsplit_text_value_exists_more())) }) }), document.oncontextmenu = function () { return !1 }, document.ondragstart = function () { return !1 }, document.onload = function () { clearData() }, document.onblur = function () { clearData() }, document.onkeydown = function (e) { if (e.ctrlKey && (85 == e.keyCode || 17 == e.keyCode || 117 == e.keyCode)) return !1 }, openOverlaySignup = function () { $("#overlay-inAboxDefault").modal({ animation: !0, backdrop: "static", keyboard: !1, show: !0 }) }, openMandatoryLogin = function () { $("#myModalRegister").modal("hide"), $("#overlay-inAboxDefault").modal("hide"), $("#closeLoginBox").hide(), $("#myModal").modal({ animation: !0, backdrop: "static", keyboard: !1, show: !0 }), $("#frgt-box a").attr({ onclick: "return openForgotPass();", href: "javascript:void(0);" }), $("html").css("overflow", "hidden"), $("#mandatory-su a").attr({ onclick: "return openMandatorySignup();", href: "" }) }, $(document).ready(function () { setfootercatdiv() }), $(window).resize(function () { setfootercatdiv() }), setfootercatdiv = function () { window.innerWidth <= 500 && ($(".cat_txt").text().length > 10 && ($(".cat_ctrl").css("width", "40%"), $(".vw_ctrl").css("width", "25%"), $(".rnk_ctrl").css("width", "25%"), $(".rnk_txt").hide(), $(".vw_txt").hide())) }, closerating_footer = function () { $(".content_rating_footer").hide() }, CheckUserContentRatings = function (e) { $.ajax({ type: "POST", url: "/Document/CheckUserCourseRatings", data: "{ ContentId:'" + e + "'}", contentType: "application/json;charset=utf-8", dataType: "json", success: function (e) { var t = e.rating; void 0 != t && null != t && "" != t && "0" != t || setTimeout(function () { ShowCourseRatingPopup() }, 12e4) }, error: function (e, t, n) { console.log(e + "," + t + "," + n) } }) }, UpdateDocumentOpenDetails = function (e) { $.ajax({ type: "POST", url: "/Document/UpdateDocumentOpenDetails", data: "{ ContentId:'" + e + "'}", contentType: "application/json;charset=utf-8", dataType: "json", async: !0, success: function (e) { }, error: function (e, t, n) { console.log(e + "," + t + "," + n) } }) };