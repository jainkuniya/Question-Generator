var recaptcha1, recaptcha2, loadReCaptcha = function () { try { recaptcha1 = grecaptcha.render("recaptcha1", { sitekey: "6LdJKQ4TAAAAANk101errVGzPxJoqgTMnYSN_pn_", theme: "light" }), recaptcha2 = grecaptcha.render("recaptcha2", { sitekey: "6LdJKQ4TAAAAANk101errVGzPxJoqgTMnYSN_pn_", theme: "light" }) } catch (e) { } }; function CheckEnterKey(e) { return 13 === (e.keyCode ? e.keyCode : e.which) } clearsearch = function () { $(".clearsearch_btn").hide(), $(".search_input").val("") }, $(".search_input").on("change paste keyup", function () { tmpval = $(this).val(), "" == tmpval ? $(".clearsearch_btn").hide() : $(".clearsearch_btn").show() }), ClearRegisterControls = function () { return $("#fullNameRegisterText").val(""), $("#userNameRegisterText").val(""), $("#passwordRegisterText").val(""), $("#fullNameRegisterText").focus(), !0 }, ClearMessage = function () { return $(".modal").modal("hide"), $("#Modelspan").html(""), $("#userNameText").focus(), !0 }, SignUp = function () { var e = "true", t = $("#fullNameRegisterText").val().toLowerCase().split(" "), a = $("#lastNameRegisterText").val().toLowerCase().split(" "), r = $("#ModelRegisterspan"), o = 0, n = $.merge(t, a); if ($(n).each(function (t, a) { if ("edurev" == a.toLowerCase()) return e = "false", 1 == ++o && r.html("Please Enter a Valid Name"), !1 }), "false" == e) return !1; var l = $("#fullNameRegisterText").val().trim(), i = $("#lastNameRegisterText").val().trim(), c = $("#userNameRegisterText").val().trim(), s = $("#passwordRegisterText").val().trim(), u = $(".g-recaptcha-response").map(function () { if ("" != this.value) return this.value }).get()[0], d = $("#usergender").val(); if (1 == $("#termandconditioncheck").is(":checked")) { if (void 0 == l || null == l || "" == l) return r.html("Please Enter First Name"), !1; if (!validateName(l)) return r.html("Please Enter alphabets only"), !1; if (void 0 == i || null == i || "" == i) return r.html("Please Enter Last Name"), !1; if (!validateName(i)) return r.html("Please Enter alphabets only"), !1; if (void 0 == c || null == c || "" == c) return r.html("Please Enter Email"), !1; if (!validateEmail(c)) return r.html("Please Enter Correct Email"), !1; if (void 0 == s || null == s || "" == s) return r.html("Please Enter Password"), !1; if (s.length < 7) return r.html("Minimum 7 characters required for password."), !1; if (null == d || "-1" == d || "" == d) return r.html("Please select gender."), !1; l = l + " " + i, _ShowLoader(), $.ajax({ type: "POST", url: "/Account/RegisterUser", data: "{ FullName:'" + l + "',Email:'" + c + "',Password:'" + s + "',Gender:'" + d + "',captch:'" + u + "'}", contentType: "application/json;charset=utf-8", dataType: "text", success: function (e) { if ("Done" == e || "" == e) { r.html(""), $.cookie("loggedin", 1); var t = getParameterByName("returnURL"); "" != t && null != t && void 0 != t ? window.location.href = t : window.location.reload() } else _HideLoader(), grecaptcha.reset(recaptcha1), r.html(e) }, error: function (e, t, a) { _HideLoader(), grecaptcha.reset(recaptcha1), console.log(e + "," + t + "," + a) } }) } else r.html("Please accept Terms and Conditions") }, SignIn = function () { var e = $("#userNameText").val().trim(), t = $("#passwordText").val().trim(), a = $("#Modelspan"); return void 0 == e || null == e || "" == e ? (a.html("Please enter Email id"), !1) : void 0 == t || null == t || "" == t ? (a.html("Please Enter Password"), !1) : (_ShowLoader(), void $.ajax({ type: "POST", url: "/Account/SignIn", data: "{ userName:'" + e + "',Password:'" + t + "'}", contentType: "application/json;charset=utf-8", dataType: "json", success: function (e) { if ("0" == e) a.html("Invalid User Name/Password"), _HideLoader(); else { $.cookie("loggedin", 1), a.html(""); var t = getParameterByName("returnURL"); "" != t && null != t && void 0 != t ? window.location.href = t : window.location.reload() } }, error: function (e, t, a) { _HideLoader(), console.log(e + "," + t + "," + a) } })) }, $("#myModalRegister").on("hidden.bs.modal", function () { try { grecaptcha.reset(recaptcha1) } catch (e) { } }), clickLoginEnter = function (e) { CheckEnterKey(e) && SignIn() }, fblog = function () { _ShowLoader(), $.cookie("returl", window.location.href), window.location.href = "/User/FacebookLogin?returnurl=" + window.location.href }, google = function () { _ShowLoader(), $.cookie("returl", window.location.href), window.location.href = "/User/GoogleLogin?returnurl=" + window.location.href }, validateName = function (e) { return !!/^[a-zA-Z\s]+$/.test(e) }, validateEmail = function (e) { var t = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i.test(e), a = e.toLowerCase(), r = jQuery.grep(["facebook.com", "gamil.com", "gmail.co.in", "gmail.in", "no-reply", "noreply", "*", "@public.talk.google.com", "@gmailr.com", "naukri.com", "@outlok.com", "@bsnl.co.in", "@sbi.co.in"], function (e) { return a.toLowerCase().indexOf(e.toLowerCase()) >= 0 }); return !!t && !(r.length > 0) };